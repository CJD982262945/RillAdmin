#generated by `lor framework`
    # user www www;
pid tmp/dev-nginx.pid;

# This number should be at maxium the number of CPU on the server
worker_processes 4;
#nginx权限问题 https://github.com/smallnewer/bugs/issues/64 ps aux|grep nginx|grep -v grep
user  root;

events {
    # Number of connections per worker
    worker_connections 4096;
}

http {
    sendfile on;
    include ./mime.types;

    lua_package_path "./app/?.lua;./app/libs/?.lua;./?.lua;/usr/local/lor/?.lua;;;;";
    lua_code_cache on;

    server {
        # List port
        listen 7777;
        #server_name localhost;

        # Access log
        access_log logs/dev-access.log;
        # Error log
        error_log logs/dev-error.log;

        # this variable is for view render（lua-resty-template)
        set $template_root '';
        
        location /static {
            alias ./app/static; #app/static;
        }

        # lor runtime
        location / {
            content_by_lua_file ./app/main.lua;
        }
    }
}
    